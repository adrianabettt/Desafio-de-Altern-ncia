<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Copa Byte - Desafio de L√≥gica</title>
    <style>
        :root { --primary: #6366f1; --secondary: #f43f5e; --success: #22c55e; --bg: #0f172a; --card: #1e293b; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .game-container { background: var(--card); padding: 40px; border-radius: 24px; width: 650px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); position: relative; }
        .badge { color: var(--secondary); font-weight: bold; font-size: 0.9rem; text-transform: uppercase; }
        h1 { margin: 10px 0 20px 0; font-size: 1.8rem; }
        .question-box { background: rgba(255,255,255,0.05); padding: 25px; border-radius: 15px; margin: 20px 0; font-size: 1.2rem; border-left: 5px solid var(--primary); line-height: 1.6; text-align: left; }
        .options { display: grid; gap: 12px; margin-top: 20px; }
        .opt { background: #334155; padding: 18px; border-radius: 12px; cursor: pointer; transition: 0.3s; font-weight: bold; border: 2px solid transparent; text-align: left; }
        .opt.correct { background: var(--success) !important; border-color: white; }
        .opt.wrong { background: var(--secondary) !important; border-color: white; }
        .opt:hover:not(.disabled) { background: #475569; border-color: var(--primary); transform: translateX(5px); }
        .disabled { cursor: not-allowed; opacity: 0.8; }
        
        /* Box de Explica√ß√£o */
        #feedback-box { display: none; margin-top: 20px; padding: 15px; border-radius: 10px; font-weight: bold; animation: fadeIn 0.5s; }
        .feedback-errado { background: rgba(244, 63, 94, 0.2); border: 1px solid var(--secondary); color: #ff8a9e; }
        .feedback-correto { background: rgba(34, 197, 94, 0.2); border: 1px solid var(--success); color: #86efac; }
        
        #btn-proxima { display: none; background: var(--primary); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; margin-top: 15px; font-weight: bold; }

        /* Tela Final */
        #tela-final { display: none; }
        .score-circle { width: 120px; height: 120px; border-radius: 50%; border: 8px solid var(--success); display: flex; align-items: center; justify-content: center; font-size: 3rem; font-weight: 900; margin: 20px auto; color: var(--success); }
        .btn-restart { background: var(--primary); color: white; border: none; padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; margin-top: 20px; text-transform: uppercase; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="game-container">
        <div id="jogo-ativo">
            <span class="badge" id="progresso">Pergunta 1 de 5</span>
            <h1 id="titulo">Desafio de Altern√¢ncia</h1>
            <div class="question-box" id="pergunta">Carregando...</div>
            <div class="options" id="opcoes"></div>
            
            <div id="feedback-box"></div>
            <button id="btn-proxima" onclick="proximaPergunta()">Pr√≥xima Pergunta ‚Üí</button>
        </div>

        <div id="tela-final">
            <h1>üèÜ Resultado Final</h1>
            <p>Sua pontua√ß√£o final:</p>
            <div class="score-circle" id="nota-final">0</div>
            <p id="mensagem-incentivo"></p>
            <button class="btn-restart" onclick="location.reload()">Tentar Novamente üîÑ</button>
        </div>
    </div>

    <script>
        const perguntas = [
            {
                p: "A lista atual √©: 1¬∫ Ana, 2¬∫ Beto, 3¬∫ Caio. Se o Caio (3¬∫) ultrapassar o Beto (2¬∫), como fica a nova lista?",
                o: ["1¬∫ Ana, 2¬∫ Caio, 3¬∫ Beto", "1¬∫ Caio, 2¬∫ Ana, 3¬∫ Beto", "1¬∫ Ana, 2¬∫ Beto, 3¬∫ Caio"],
                r: 0,
                explicacao: "Ao ultrapassar apenas o 2¬∫ colocado, Caio assume a posi√ß√£o dele, empurrando Beto para baixo. Ana permanece em 1¬∫."
            },
            {
                p: "Se o 1¬∫ lugar trocar de posi√ß√£o com o 3¬∫ lugar na lista [Davi, El√¥, F√°bio], quem passa a ser o novo 1¬∫ lugar?",
                o: ["El√¥", "Davi", "F√°bio"],
                r: 2,
                explicacao: "F√°bio era o 3¬∫. Ao trocar diretamente com o 1¬∫ (Davi), ele assume o topo da lista."
            },
            {
                p: "Bia est√° em 4¬∫ lugar. Se o 1¬∫, o 2¬∫ e o 3¬∫ lugar forem desclassificados, em qual posi√ß√£o a Bia ficar√°?",
                o: ["Continua em 4¬∫ lugar", "Passa para o 2¬∫ lugar", "Passa para o 1¬∫ lugar"],
                r: 2,
                explicacao: "Em um ranking, se todos que est√£o acima de voc√™ saem, voc√™ sobe automaticamente para preencher o topo."
            },
            {
                p: "Guto (2¬∫) e Leo (3¬∫) empataram com 500 pontos. A regra diz: em empate, a ordem alfab√©tica vence. Quem fica em 2¬∫ lugar?",
                o: ["Guto", "Leo", "Os dois ficam em 2¬∫ ao mesmo tempo"],
                r: 0,
                explicacao: "Pela regra alfab√©tica, a letra 'G' (Guto) vem antes de 'L' (Leo), mantendo Guto na frente no desempate."
            },
            {
                p: "Se um novo jogador entrar com a MAIOR pontua√ß√£o, o que acontece com quem era o 1¬∫ lugar?",
                o: ["Ele √© removido do jogo", "Ele passa a ser o 2¬∫ lugar", "Ele continua sendo o 1¬∫ lugar"],
                r: 1,
                explicacao: "Sempre que algu√©m assume o topo, todos os outros jogadores descem exatamente uma posi√ß√£o no ranking."
            }
        ];

        let perguntaAtual = 0;
        let acertos = 0;
        let respondido = false;

        function carregarPergunta() {
            respondido = false;
            const item = perguntas[perguntaAtual];
            document.getElementById('progresso').innerText = `Pergunta ${perguntaAtual + 1} de 5`;
            document.getElementById('pergunta').innerHTML = item.p;
            document.getElementById('feedback-box').style.display = "none";
            document.getElementById('btn-proxima').style.display = "none";
            
            const divOpcoes = document.getElementById('opcoes');
            divOpcoes.innerHTML = "";
            
            item.o.forEach((textoOpcao, index) => {
                const div = document.createElement('div');
                div.className = 'opt';
                div.innerText = textoOpcao;
                div.onclick = () => validarResposta(index, div);
                divOpcoes.appendChild(div);
            });
        }

        function validarResposta(indexEscolhido, elemento) {
            if(respondido) return;
            respondido = true;

            const item = perguntas[perguntaAtual];
            const feedbackBox = document.getElementById('feedback-box');
            const botoes = document.querySelectorAll('.opt');

            // Desabilita outros cliques
            botoes.forEach(b => b.classList.add('disabled'));

            if(indexEscolhido === item.r) {
                acertos++;
                elemento.classList.add('correct');
                feedbackBox.innerHTML = "‚úÖ Correto! " + item.explicacao;
                feedbackBox.className = "feedback-correto";
            } else {
                elemento.classList.add('wrong');
                // Destaca a correta para o aluno aprender
                botoes[item.r].classList.add('correct');
                feedbackBox.innerHTML = "‚ùå Errado. " + item.explicacao;
                feedbackBox.className = "feedback-errado";
            }

            feedbackBox.style.display = "block";
            document.getElementById('btn-proxima').style.display = "inline-block";
        }

        function proximaPergunta() {
            perguntaAtual++;
            if(perguntaAtual < perguntas.length) {
                carregarPergunta();
            } else {
                mostrarResultadoFinal();
            }
        }

        function mostrarResultadoFinal() {
            document.getElementById('jogo-ativo').style.display = "none";
            document.getElementById('tela-final').style.display = "block";
            
            const nota = (acertos / perguntas.length) * 10;
            const elementoNota = document.getElementById('nota-final');
            const elementoMsg = document.getElementById('mensagem-incentivo');
            
            elementoNota.innerText = nota.toFixed(1);

            if(nota === 10) {
                elementoMsg.innerText = "‚≠ê INCR√çVEL! Voc√™ √© um mestre da l√≥gica!";
                elementoNota.style.color = "var(--success)";
            } else if(nota >= 6) {
                elementoMsg.innerText = "üëç Muito bem! Voc√™ entendeu a maioria dos conceitos!";
                elementoNota.style.color = "#f1c40f";
            } else {
                elementoMsg.innerText = "üí™ N√£o desista! Revise as explica√ß√µes e tente novamente.";
                elementoNota.style.color = "var(--secondary)";
            }
        }

        carregarPergunta();
    </script>
</body>
</html>
